(function(){var g;var h;var i;var e={x:-1,y:-1};var b={x:-1,y:-1};function a(l){if(l.originalEvent&&l.originalEvent.targetTouches){return l.originalEvent.targetTouches[0]}if(l.targetTouches){return l.targetTouches[0]}return l}function c(m,l){return Math.abs(m-l)<2}function f(m){var l=a(m);e.x=l.pageX;e.y=l.pageY;b.x=l.pageX;b.y=l.pageY;h=true;if(i){clearTimeout(i)}i=setTimeout(function(){h=false},200)}function j(l){if(h&&c(e.x,b.x)&&c(e.y,b.y)){g.customData={touchX:b.x,touchY:b.y};l.target.dispatchEvent(g)}}function d(m){var l=a(m);b.x=l.pageX;b.y=l.pageY}function k(){try{if(document.createEvent){g=document.createEvent("CustomEvent");g.initEvent("touchtap",true,true)}if(document.addEventListener){document.addEventListener("touchstart",f,false);document.addEventListener("touchend",j,false);document.addEventListener("touchcancel",j,false);document.addEventListener("touchmove",d,false)}}catch(l){}}k()})();var abbrTouch=(function(){function b(d){return function(f){d(f.currentTarget,f.currentTarget.title,f.customData.touchX,f.customData.touchY)}}function a(f,g,e,d){alert(g)}function c(h,f){if(!h){h=document}var j=f||a;var g=h.querySelectorAll("abbr[title]");var d=b(j);for(var e=0;e<g.length;e++){if(g[e].children.length==0){if(g[e].addEventListener){g[e].addEventListener("touchtap",d,false)}}}}return c})();var abbrs=[{name:"2GLL",desc:"2-Gen Last Layer. Solved using R and U moves"},{name:"2H",desc:"Two-handed"},{name:"2LLL",desc:"2-Look Last Layer"},{name:"4LLL",desc:"4-Look Last Layer"},{name:"6LLL",desc:"6-Look Last Layer"},{name:"AUF",desc:"Adjust U Face"},{name:"CFOP",desc:"Cross, F2L, OLL, PLL"},{name:"COLL",desc:"Corners of the Last Layer - Preserving Edge Orientation"},{name:"CPLL",desc:"Corner Permutation of the Last Layer"},{name:"Commutator",desc:"[A, B] = A B A' B'"},{name:"Conjugate",desc:"[A: B] = A B A'"},{name:"Double-Sexy",desc:"(R U R' U') (R U R' U')"},{name:"EOLL",desc:"Edge Orientation of the Last Layer"},{name:"EPLL",desc:"Edge Permutation of the Last Layer"},{name:"F2L",desc:"First Two Layers"},{name:"Hedgeslammer",desc:"(F R' F' R)"},{name:"Inverse",desc:"Executing an algorithm in reverse"},{name:"LL",desc:"Last Layer"},{name:"OH",desc:"One-handed"},{name:"OCLL",desc:"Orient Corners of the Last Layer"},{name:"OLL",desc:"Orientation of the Last Layer"},{name:"OLLCP",desc:"Orientation of the Last Layer and Corner Permutation"},{name:"PLL",desc:"Permutation of the Last Layer"},{name:"LBAS",desc:"Left-Back Anti-Sune"},{name:"LBN",desc:"Left-Back Niklas"},{name:"LBS",desc:"Left-Back Sune"},{name:"LBWAS",desc:"Left-Back Wide-Anti-Sune"},{name:"LBWS",desc:"Left-Back Wide-Sune"},{name:"LFAS",desc:"Left-Front Anti-Sune"},{name:"LFN",desc:"Left-Front Niklas"},{name:"LFS",desc:"Left-Front Sune"},{name:"LFWAS",desc:"Left-Front Wide-Anti-Sune"},{name:"LFWS",desc:"Left-Front Wide-Sune"},{name:"Mounted-Fish",desc:"OLL #37 - F R U' (R' U' R U) R' F'"},{name:"MU",desc:"Algorithm consisting of M and U moves"},{name:"Niklas",desc:"The 8-move commutator named by Lars Petrus"},{name:"Palindrome",desc:"The algorithm is the same when read backwards"},{name:"RBAS",desc:"Right-Back Anti-Sune"},{name:"RBN",desc:"Right-Back Niklas"},{name:"RBS",desc:"Right-Back Sune"},{name:"RBWAS",desc:"Right-Back Wide-Anti-Sune"},{name:"RBWS",desc:"Right-Back Wide-Sune"},{name:"Reverse-sexy",desc:"U R U' R'"},{name:"RFAS",desc:"Right-Front Anti-Sune"},{name:"RFN",desc:"Right-Front Niklas"},{name:"RFS",desc:"Right-Front Sune"},{name:"RFWAS",desc:"Right-Front Wide-Anti-Sune"},{name:"RFWS",desc:"Right-Front Wide-Sune"},{name:"RU",desc:"Algorithm consisting of R and U moves"},{name:"RUF",desc:"Algorithm consisting of R, U and F moves"},{name:"RUL",desc:"Algorithm consisting of R, U and L moves"},{name:"Sexy",desc:"R U R' U'"},{name:"Sexy-sledge",desc:"OLL #33 - (R U R' U') (R' F R F')"},{name:"Sledgehammer",desc:"(R' F R F')"},{name:"Sune",desc:"Extract F2L pair, AUF, re-insert pair"},{name:"SuneOLL",desc:"Solving an OLL case using Sune variations"},{name:"TPS",desc:"Turns Per Second"},{name:"Triple-Sexy",desc:"(R U R' U') (R U R' U') (R U R' U')"},{name:"VHLS",desc:"Vandenbergh-Harris Last Slot"}];function replaceAbbr(e){for(var b=0;b<abbrs.length;b++){var f=abbrs[b];if(f!=null){var d="["+f.name+"]";while(e.indexOf(d)>=0){var c='<abbr class="dotted" title="'+f.desc+'">'+f.name+"</abbr>";e=e.replace(d,c)}var a="["+f.name.toLowerCase()+"]";while(e.indexOf(a)>=0){var c='<abbr class="dotted" title="'+f.desc+'">'+f.name.toLowerCase()+"</abbr>";e=e.replace(a,c)}}}return e};function debugMessage(c,b){var a="";a+="<h2>Houston, we have a problem</h2>";a+="<h3>Browser</h3><p>You need at least IE8, Chrome 6.0, Firefox 3.5, Safari 4.0 or Opera 10</p>";a+="<h3>Debug</h3><p>"+c+": "+b+"</p>";return a}function header(a){var b="";if(getViewportWidth()<a&&getViewportWidth()<getViewportHeight()){b='<p class="alert">Best viewed in landscape (horizontal) orientation</p>'}return b}function footer(){return'<div id="tooltip"></div>'}var IPAD_LANDSCAPE=1024;var IPAD_PORTRAIT=768;var GALAXY_S3_LANDSCAPE=640;var GALAXY_S3_PORTRAIT=360;var IPHONE_LANDSCAPE=480;var IPHONE_PORTRAIT=320;function getViewportWidth(){return document.documentElement.clientWidth}function getViewportHeight(){return document.documentElement.clientHeight}var caseIds=[];function getCaseIds(){if(caseIds.length==0){for(var b=0;b<algSet.cases.length;b++){var a=algSet.cases[b];if(a!=null){caseIds.push(a.id)}}}return caseIds}function getUses(e){var c="";if(e.uses.length<algSet.header.uses.length){var a=e.uses.slice();var b=a.indexOf("2H");if(b>=0){a.splice(b,1)}if(a.length>0){for(var d=0;d<e.uses.length;d++){var f=e.uses[d];if(f!=null){if(d>0){c+=", "}c+=f}}}}return c}function initAbbrTouch(){abbrTouch(document.querySelector("#view"),function(e,f,b,a){var d=document.querySelector("#tooltip");d.innerHTML=f;d.style.left=((b-d.clientWidth/2)>window.pageXOffset?(b-d.clientWidth/2):window.pageXOffset)+"px";d.style.top=((a-50)>window.pageYOffset?(a-50):window.pageYOffset)+"px";var c=(new Date()).getTime();d.setAttribute("data-timestamp",c);document.body.appendChild(d);setTimeout(function(){if(d.getAttribute("data-timestamp")==c){d.removeAttribute("data-timestamp")}},3000)},true)}function addEventHandler(d,b,c){var a="on"+b;if(b=="hashchange"&&!(a in d)){hashChangeFallback(d,c)}else{if(d.addEventListener){d.addEventListener(b,c,false)}else{if(d.attachEvent){d.attachEvent(a,c)}}}}function hashChangeFallback(b,a){b.onhashchange=a;(function(e){var c=e.location,d=c.href,f=c.hash;setInterval(function(){var h=c.href,g=c.hash;if(g!=f&&typeof e.onhashchange==="function"){e.onhashchange({type:"hashchange",oldURL:d,newURL:h});d=h;f=g}},100)})(window)}var lastFragment="n/a";var lastViewportWidth=getViewportWidth();function processHash(){try{var c=getViewportWidth();var f=window.location.hash.substring(1);if(f!=lastFragment||c!=lastViewportWidth){var g=f.split("_");var b=g[0];var a=g[1];if(b=="case"){renderCase(a,c)}else{renderView(b,c)}lastFragment=f;lastViewportWidth=c;try{initAbbrTouch()}catch(e){}}}catch(e){var d=debugMessage("processHash",e.message);document.getElementById("view").innerHTML=d}}function polyfillIndexOf(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=d|0;if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}}}function renderPage(){try{polyfillIndexOf();addEventHandler(window,"hashchange",processHash);addEventHandler(window,"resize",processHash);addEventHandler(window,"popstate",function(c){if(c.state!=null){if(c.state.hash!=""){window.location.hash=c.state.hash}processHash();setTimeout(function(){window.scrollTo(c.state.xOffset,c.state.yOffset)},1)}else{processHash()}});processHash()}catch(b){var a=debugMessage("renderPage",b.message);document.getElementById("view").innerHTML=a}}function storeWindowOffset(){try{var c={hash:window.location.hash,xOffset:window.pageXOffset,yOffset:window.pageYOffset};var d=document.title;var a=window.location.href;history.replaceState(c,d,a)}catch(b){}}addEventHandler(window,"load",renderPage);function renderGridHeaderRow(a,b){var c="";c+="<thead>";c+="<tr>";c+="<th></th>";for(var d=0;d<a.headers.length;d++){var e=a.headers[d];c+="<th>"+e+"</th>"}c+="</tr>";c+="</thead>";return c}function renderGridDataRows(k,g){var e="";var i=g>=IPAD_LANDSCAPE?"96":"64";var d=getCaseIds();e+="<tbody>";for(var b=0;b<k.rows.length;b++){var j=k.rows[b];if(j!=null){e+="<tr>";e+='<th class="name">'+j.name+"</th>";for(var a=0;a<j.cases.length;a++){e+="<td>";var c=j.cases[a];if(c!=null){var h=algSet.cases[d.indexOf(c)];if(h!=null){var l=algSet.header.id+" "+h.id;if(h.name!=h.id){l+=" - "+h.name}var f=algSet.header.hasOwnProperty("css")?algSet.header.css:algSet.header.id;e+='<abbr title="'+l+'"><i class="clicky s'+i+"-"+f.toLowerCase()+" s"+i+"-"+h.image.toLowerCase()+'" onclick="switchCase(\''+h.id+"')\"><br/></i></abbr>"}}e+="</td>"}e+="</tr>"}}e+="</tbody>";return e}function renderViewAlg(d,b){var c="";var a=getUses(d);if(a.length>0){a=" <sup>"+a+"</sup>"}c+=d.alg+a;c+="<br/>";return c}function renderTableDataCell(j,a,i){var g="";var d=[];var b=0;var c=i>=IPHONE_LANDSCAPE?4:2;for(var f=0;f<j.algs.length&&b<c;f++){var l=j.algs[f];if(l!=null){if(l.status==1){for(var e=0;e<l.uses.length;e++){if(a==null||l.uses[e]==a){if(i>=IPHONE_LANDSCAPE||d.indexOf(l.uses[e])<0){g+=renderViewAlg(l,i);d=d.concat(l.uses);b++;break}}}}if(l.hasOwnProperty("vars")){for(var k=0;k<l.vars.length&&b<c;k++){var h=l.vars[k];if(h!=null){if(h.status==1){for(var e=0;e<h.uses.length;e++){if(a==null||h.uses[e]==a){if(i>=IPHONE_LANDSCAPE||d.indexOf(h.uses[e])<0){g+=renderViewAlg(h,i);d=d.concat(h.uses);b++;break}}}}}}}}}if(g==""){g+="Missing case "+j.id+" for "+a}return g}function renderTableDataRows(k,g,h){var e="";var j=h>=IPHONE_LANDSCAPE?"96":"64";var c=getCaseIds();e+="<tbody>";for(var a=0;a<g.cases.length;a++){var b=g.cases[a];if(b!=null){var i=algSet.cases[c.indexOf(b)];if(i!=null){e+="<tr>";if(h>=IPHONE_LANDSCAPE){e+='<td class="id">'+i.id+"</td>"}var l=algSet.header.id+" "+i.id;if(i.name!=i.id){l+=" - "+i.name}var f=algSet.header.hasOwnProperty("css")?algSet.header.css:algSet.header.id;e+='<td><abbr title="'+l+'"><i class="clicky s'+j+"-"+f.toLowerCase()+" s"+j+"-"+i.image.toLowerCase()+'" onclick="switchCase(\''+i.id+"')\"><br/></i></abbr></td>";if(h>=IPAD_LANDSCAPE){for(var d in algSet.header.uses){e+='<td class="alg">';e+=renderTableDataCell(i,algSet.header.uses[d].id,h);e+="</td>"}}else{e+='<td class="alg">';e+=renderTableDataCell(i,null,h);e+="</td>"}if(h>=IPHONE_LANDSCAPE){e+='<td class="prob">'+i.prob+"</td>"}e+="</tr>"}}}e+="</tbody>";return e}function renderViewOptions(b,c){var e="";e+='<p>Select view: <select id="viewList" onChange="switchView()"></p>';for(var d=0;d<algSet.views.length;d++){var a=algSet.views[d];if(a!=null){e+='<option value="'+a.id+'"';if(a.id==b){e+=" selected"}e+=">"+a.name+"</option>"}}e+="</select>";return e}function renderViewLinks(a,b){var c="";var e=0;c+="<p>";for(var f=0;f<a.groups.length;f++){var d=a.groups[f];if(d!=null){if(f>0&&e>0){c+=", "}if(d.name!=""){c+='<a href="#'+a.id+"_"+d.id+'">'+d.name+"</a>"}e+=d.name.length;if(a.groups.length>8&&e>110){c+="</p><p>";e=0}}}c+="</p>";return c}function renderView(f,e){var b="";var i=false;for(var a=0;a<algSet.views.length;a++){var h=algSet.views[a];if(h!=null){if(h.id==f){i=true;break}}}if(i==false){f=algSet.views[0].id}b+="<h1>"+algSet.header.name+" ("+algSet.header.id+")</h1>";b+=header(IPHONE_LANDSCAPE);var c="<p>";if(f!="grid"){if(algSet.header.hasOwnProperty("level")){switch(algSet.header.level.toLowerCase()){case"beginner":c+="This page lists the algorithms that I teach to beginners. The algorithms have all been chosen for their simplicity and ease of learning.</p><p>";break;case"improver":c+="This page lists the algorithms that I teach to improvers. It includes all of the beginner algorithms and some [inverse] algorithms.</p><p>";break;case"intermediate":c+="This page lists the algorithms that I teach to intermediates. They are good algorithms and have been chosen for their execution speed.</p><p>";break;default:c+="This page lists the algorithms that I use during actual solves. They are good algorithms and have been chosen for their execution speed.</p><p>";break}}else{c+="This page lists the algorithms that I use during actual solves. They are good algorithms and have been chosen for their execution speed.</p><p>"}}if(algSet.views.length>1){c+=" Use the dropdown below to switch views."}c+=" Click on an image for details about the case; e.g. algorithms, comments, breakdowns.</p>";b+=replaceAbbr(c);if(algSet.views.length>1){b+=renderViewOptions(f,e)}for(var a=0;a<algSet.views.length;a++){var h=algSet.views[a];if(h!=null){if(h.id==f){if(h.name!=""){b+="<h2>"+h.name+"</h2>";document.title=algSet.header.id}if(h.hasOwnProperty("rows")){if(e<GALAXY_S3_LANDSCAPE){if(getViewportHeight()>=GALAXY_S3_LANDSCAPE){b+='<p class="alert">Rotate to view in landscape (horizontal) orientation</p>'}else{b+='<p class="alert">Sorry. Your display is too small for the grid view!</p>'}}else{b+="<table>";b+=renderGridHeaderRow(h,e);b+=renderGridDataRows(h,e);b+="</table>"}}else{if(h.hasOwnProperty("groups")){if(e>=IPAD_LANDSCAPE){b+=renderViewLinks(h,e)}for(var g=0;g<h.groups.length;g++){var d=h.groups[g];if(d!=null){b+='<a name="'+h.id+"_"+d.id+'" />';if(d.name!=""){b+="<h3>"+d.name+"</h3>"}if(d.desc){b+="<p>"+replaceAbbr(d.desc)+"</p>"}b+="<table>";b+=renderTableDataRows(h,d,e);b+="</table>"}}}}i=true}}}b+=footer();document.getElementById("view").innerHTML=b}function switchView(){storeWindowOffset();var c=document.getElementById("viewList");var a=c.options[c.selectedIndex].value;var g="#"+a;try{var f={hash:g,xOffset:window.pageXOffset,yOffset:window.pageYOffset};var h=algSet.header.id+" - "+c.options[c.selectedIndex].text;var b=g;history.pushState(f,h,b);processHash()}catch(d){window.location.hash=g}};function renderCaseAlg(f,e,g,b){var c="";var a=getUses(f);if(a.length>0){a=" <sup>"+a+"</sup>"}var d="";if(f.status<1||f.uses.length<1){d=" inactive"}if(b>=IPAD_PORTRAIT){c+="<tr>";c+='<td class="'+e+d+'">'+f.alg+a+"</td>";c+='<td class="desc'+d+'">'+replaceAbbr(f.desc)+"</td>";c+="</tr>"}else{if(g){c+="<tr><td>&nbsp;</td></tr>"}c+='<tr><td class="'+e+d+'">'+f.alg+a+"</td></tr>";c+='<tr><td class="'+e+d+'"><em>'+replaceAbbr(f.desc)+"</em></td></tr>"}return c}function renderCaseAlgs(c,a){var b="";var d=1;for(var g=0;g<c.algs.length;g++){var e=c.algs[g];if(e!=null){if(e.hasOwnProperty("name")){b+="<h3>Alg "+d+" - "+e.name+"</h3>"}else{b+="<h3>Alg "+d+"</h3>"}switch(e.status){case 0:b+='<p class="inactive">I don\'t use this algorithm yet.</p>';break;case -1:b+='<p class="inactive">I don\'t use this algorithm nowadays.</p>';break}b+="<table>";b+=renderCaseAlg(e,"alg",false,a);if(e.hasOwnProperty("vars")){for(var h=0;h<e.vars.length;h++){var f=e.vars[h];if(f!=null){b+=renderCaseAlg(f,"var",true,a)}}}b+="</table>";d++}}return b}function renderCaseLinks(h,g){var c="";c+="<h3>Links</h3>";var e=h.wiki;var b=algSet.header.id;if(e!=""){if(h.wiki.indexOf("#")>=0){b=algSet.header.id}else{b=h.wiki}}var d=h.algdb;var k=algSet.header.id;if(d!=""){k=h.algdb}for(var a=0;e==""&&a<algSet.views.length;a++){var j=algSet.views[a];if(j!=null){if(j.hasOwnProperty("groups")){for(var i=0;i<j.groups.length;i++){var f=j.groups[i];if(f!=null){if(f.hasOwnProperty("wiki")){if(f.cases.indexOf(h.id)>=0){e=f.wiki;if(f.wiki.indexOf("#")>=0){b=algSet.header.id}else{b=f.wiki}}}}}}}}c+='<p>SpeedSolving Wiki: <a href="'+algSet.header.wiki+e+'" target="_blank">'+b+"</a><p>";c+='<p>AlgDb.Net: <a href="'+algSet.header.algdb+d+'" target="_blank">'+k+"</a><p>";return c}function renderCase(c,b){var d="";var g=b>=IPHONE_LANDSCAPE?"128":"96";var a=getCaseIds();d+="<h1>"+algSet.header.id+" - "+c+"</h1>";d+=header(GALAXY_S3_PORTRAIT);if(a.indexOf(c)>=0){var f=algSet.cases[a.indexOf(c)];if(f.name!=c){d+="<h2>"+f.name+"</h2>"}document.title=algSet.header.id+" "+c;var e=algSet.header.hasOwnProperty("css")?algSet.header.css:algSet.header.id;d+='<p><i class="s'+g+"-"+e.toLowerCase()+" s"+g+"-"+f.image.toLowerCase()+'"></i></p>';if(f.desc){d+="<p>"+replaceAbbr(f.desc)+"</p>"}d+="<p>Probability = "+f.prob+"</p>";d+=renderCaseAlgs(f,b);d+=renderCaseLinks(f,b)}else{d+="Missing case "+c}d+=footer();document.getElementById("view").innerHTML=d}function switchCase(a){storeWindowOffset();var f="#case_"+a;try{var d={hash:f,xOffset:0,yOffset:0};var g=algSet.header.id+" "+a;var b=f;history.pushState(d,g,b);processHash()}catch(c){window.location.hash=f}window.scrollTo(0,0)};