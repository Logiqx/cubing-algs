function debugMessage(c,b){var a="";a+="<h2>Houston, we have a problem</h2>";a+="<h3>Browser</h3><p>You need at least IE8, Chrome 6.0, Firefox 3.5, Safari 4.0 or Opera 10</p>";a+="<h3>Debug</h3><p>"+c+": "+b+"</p>";return a}function header(a){var b="";if(getViewportWidth()<a&&getViewportWidth()<getViewportHeight()){b='<p class="alert">Best viewed in landscape (horizontal) orientation</p>'}return b}function footer(){return'<div id="tooltip"></div>'}var IPAD_LANDSCAPE=1024;var IPAD_PORTRAIT=768;var GALAXY_S3_LANDSCAPE=640;var GALAXY_S3_PORTRAIT=360;var IPHONE_LANDSCAPE=480;var IPHONE_PORTRAIT=320;function getViewportWidth(){return document.documentElement.clientWidth}function getViewportHeight(){return document.documentElement.clientHeight}var caseIds=[];function getCaseIds(){if(caseIds.length==0){for(var b=0;b<algSet.cases.length;b++){var a=algSet.cases[b];if(a!=null){caseIds.push(a.id)}}}return caseIds}function getUses(e){var c="";if(e.uses.length<algSet.header.uses.length){var a=e.uses.slice();var b=a.indexOf("2H");if(b>=0){a.splice(b,1)}if(a.length>0){for(var d=0;d<e.uses.length;d++){var f=e.uses[d];if(f!=null){if(d>0){c+=", "}c+=f}}}}return c}function initAbbrTouch(){abbrTouch(document.querySelector("#view"),function(e,f,b,a){var d=document.querySelector("#tooltip");d.innerHTML=f;d.style.left=((b-d.clientWidth/2)>window.pageXOffset?(b-d.clientWidth/2):window.pageXOffset)+"px";d.style.top=((a-50)>window.pageYOffset?(a-50):window.pageYOffset)+"px";var c=(new Date()).getTime();d.setAttribute("data-timestamp",c);document.body.appendChild(d);setTimeout(function(){if(d.getAttribute("data-timestamp")==c){d.removeAttribute("data-timestamp")}},3000)},true)}function addEventHandler(d,b,c){var a="on"+b;if(b=="hashchange"&&!(a in d)){hashChangeFallback(d,c)}else{if(d.addEventListener){d.addEventListener(b,c,false)}else{if(d.attachEvent){d.attachEvent(a,c)}}}}function hashChangeFallback(b,a){b.onhashchange=a;(function(e){var c=e.location,d=c.href,f=c.hash;setInterval(function(){var h=c.href,g=c.hash;if(g!=f&&typeof e.onhashchange==="function"){e.onhashchange({type:"hashchange",oldURL:d,newURL:h});d=h;f=g}},100)})(window)}var lastFragment="n/a";var lastViewportWidth=getViewportWidth();function processHash(){try{var c=getViewportWidth();var f=window.location.hash.substring(1);if(f!=lastFragment||c!=lastViewportWidth){var g=f.split("_");var b=g[0];var a=g[1];if(b=="case"){renderCase(a,c)}else{renderView(b,c)}lastFragment=f;lastViewportWidth=c;try{initAbbrTouch()}catch(e){}}}catch(e){var d=debugMessage("processHash",e.message);document.getElementById("view").innerHTML=d}}function polyfillIndexOf(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b;if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var a=e.length>>>0;if(a===0){return -1}var f=d|0;if(f>=a){return -1}b=Math.max(f>=0?f:a-Math.abs(f),0);while(b<a){if(b in e&&e[b]===c){return b}b++}return -1}}}function renderPage(){try{polyfillIndexOf();addEventHandler(window,"hashchange",processHash);addEventHandler(window,"resize",processHash);addEventHandler(window,"popstate",function(c){if(c.state!=null){if(c.state.hash!=""){window.location.hash=c.state.hash}processHash();setTimeout(function(){window.scrollTo(c.state.xOffset,c.state.yOffset)},1)}else{processHash()}});processHash()}catch(b){var a=debugMessage("renderPage",b.message);document.getElementById("view").innerHTML=a}}function storeWindowOffset(){try{var c={hash:window.location.hash,xOffset:window.pageXOffset,yOffset:window.pageYOffset};var d=document.title;var a=window.location.href;history.replaceState(c,d,a)}catch(b){}}addEventHandler(window,"load",renderPage);